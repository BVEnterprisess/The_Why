# Cursor IDE Rules for Agent-Based Development

## Core Principles

1. **Zero Manual Coding**: All code is generated by AI agents. Human provides direction only.
2. **Security First**: Never commit secrets, always use environment variables or Vault MCP.
3. **Documentation Required**: All code must be self-documenting with clear comments.
4. **Test Coverage**: Critical paths must have tests (unit/integration).
5. **Conventional Commits**: Follow conventional commit format (feat:, fix:, docs:, etc.)

## Code Quality Standards

### Security
- Never hardcode API keys, passwords, or tokens
- Use Vault MCP for all secrets management
- Validate all user inputs
- Sanitize data before database operations
- Use parameterized queries (never string concatenation for SQL)

### Code Style
- Follow language-specific style guides (PEP 8 for Python, ESLint for JS/TS)
- Maximum function length: 50 lines
- Maximum file length: 500 lines
- Use meaningful variable names (no abbreviations unless standard)
- Add type hints/annotations where possible

### Documentation
- All functions must have docstrings/comments explaining purpose
- Complex logic must have inline comments
- README.md must be kept up to date
- Architecture decisions must be documented

### Error Handling
- Always handle errors explicitly (no silent failures)
- Log errors with context
- Provide meaningful error messages to users
- Use try-catch blocks appropriately

## File Organization

- Keep related files together
- Separate concerns (models, views, controllers, etc.)
- Use consistent naming conventions
- Follow the established file system architecture (D:\code\projects\the-how)

## Git Practices

- Commit frequently with meaningful messages
- Use conventional commit format
- Never commit secrets or sensitive data
- Keep commits focused (one logical change per commit)
- Always pull before pushing

## Testing

- Write tests for critical business logic
- Tests should be independent and repeatable
- Use descriptive test names
- Mock external dependencies

## Performance

- Optimize database queries
- Avoid N+1 query problems
- Use caching where appropriate
- Profile before optimizing

## Agent-Specific Guidelines

- When generating code, always explain what the code does
- If unsure about best practices, ask before implementing
- Prefer well-established libraries over custom solutions
- Always check for security vulnerabilities in dependencies
- Update dependencies regularly

## DevOps Integration

- All changes must pass CI/CD pipeline
- Follow branch protection rules
- Use feature branches for new work
- Keep main branch always deployable

